/* =========================================================
   1. 字体与大标题设置 (保持不变)
   ========================================================= */
@import url('https://fonts.loli.net/css2?family=Great+Vibes&display=swap');

#site-title {
    font-family: 'Great Vibes', cursive !important;
    font-size: 6rem !important; /* 稍微调小一点点，防止手机端撑爆 */
    font-weight: 400 !important;
    line-height: 1.2;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
    padding-bottom: 10px;
}

#site-subtitle {
    font-family: "Microsoft YaHei", sans-serif !important;
    font-size: 1.5rem !important;
    letter-spacing: 2px;
    font-weight: bold;
    text-shadow: 1px 1px 5px rgba(0,0,0,0.8);
}

/* =========================================================
   2. 【核心修复】智能透明卡片 (白天白，晚上黑)
   ========================================================= */

/* --- 情况 A：白天模式 (Light Mode) --- */
/* 只有在 html 标签没有 data-theme='dark' 时才生效 */
:root:not([data-theme="dark"]) #recent-posts > .recent-post-item,
:root:not([data-theme="dark"]) #aside-content .card-widget,
:root:not([data-theme="dark"]) .layout > div:first-child:not(.recent-posts),
:root:not([data-theme="dark"]) #post,
:root:not([data-theme="dark"]) .box-shadow-wrapper {
    background: rgba(255, 255, 255, 0.9) !important; /* 强制白色 */
    color: #4c4948 !important; /* 强制黑字 */
}

/* --- 情况 B：夜间模式 (Dark Mode) --- */
/* 只有在 html 标签有 data-theme='dark' 时才生效 */
[data-theme="dark"] #recent-posts > .recent-post-item,
[data-theme="dark"] #aside-content .card-widget,
[data-theme="dark"] .layout > div:first-child:not(.recent-posts),
[data-theme="dark"] #post,
[data-theme="dark"] .box-shadow-wrapper {
    background: rgba(30, 30, 30, 0.85) !important; /* 强制深灰色，不透明度稍微高一点 */
    color: #eeeeee !important; /* 强制白字 */
}

/* 修复夜间模式下链接颜色看不清的问题 */
[data-theme="dark"] #aside-content .card-widget a { color: #dddddd !important; }
[data-theme="dark"] #aside-content .card-widget a:hover { color: #49b1f5 !important; }

/* =========================================================
   3. 【终极修复】彻底杀死头像旋转
   ========================================================= */
/* 我们把所有可能的选择器都写上，确保万无一失 */
.avatar-img,
#aside-content .card-info .avatar-img,
.card-info-avatar .avatar-img {
    transition: none !important;
    transform: none !important;
    animation: none !important;
    will-change: auto !important; /* 告诉浏览器别准备动画 */
}

/* 鼠标放上去也不许动 */
.avatar-img:hover,
#aside-content .card-info .avatar-img:hover,
.card-info-avatar .avatar-img:hover {
    transform: none !important;
    animation: none !important;
    transition: none !important;
}

/* =========================================================
   4. 基础字体修正
   ========================================================= */
body { font-family: -apple-system, "Microsoft YaHei", sans-serif !important; }
code { font-family: 'JetBrains Mono', monospace !important; }

/* =========================================================
   【方案 A 专属】画廊瀑布流美化
   ========================================================= */

/* 1. 卡片圆角化与悬浮感 */
#recent-posts > .recent-post-item {
    border-radius: 16px !important; /* 大圆角 */
    border: 1px solid rgba(255, 255, 255, 0.15); /* 极细的玻璃边框 */
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); /* 丝滑动画 */
    overflow: visible !important; /* 允许悬浮溢出 */
}

/* 2. 鼠标悬停特效：整体上浮 + 底部投影 */
#recent-posts > .recent-post-item:hover {
    transform: translateY(-8px) scale(1.01) !important;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.35) !important;
    z-index: 10;
}

/* 3. 封面图优化：保证不糊 */
#recent-posts > .recent-post-item .post_cover img.post_bg {
    border-radius: 16px 16px 0 0 !important; /* 只有上面圆角 */
    filter: brightness(0.9); /* 默认稍微暗一点 */
    transition: filter 0.4s;
}
#recent-posts > .recent-post-item:hover .post_cover img.post_bg {
    filter: brightness(1.1); /* 悬停变亮 */
}

/* 4. 文章信息区域：精简 */
.recent-post-info {
    padding: 15px 20px !important;
}
/* 标题居中并加粗 */
.recent-post-info .article-title {
    text-align: center;
    font-weight: bold;
    font-size: 1.2rem;
    margin-bottom: 10px;
}
/* 隐藏摘要，只留标题和信息，让卡片更紧凑 (可选) */
/* .recent-post-info .content { display: none; } */