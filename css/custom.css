/* 1. 引入字体 */
@import url('https://fonts.loli.net/css2?family=Great+Vibes&display=swap');

/* =========================================================
   【核心修复】强制双列卡片布局 (基于 index_layout: 1)
   ========================================================= */
@media screen and (min-width: 768px) {
    #recent-posts {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: flex-start;
    }
    .recent-post-item {
        width: 49% !important; /* 强制两列 */
        display: flex !important;
        flex-direction: column !important; /* 图在上，文在下 */
        height: auto !important;
        margin-top: 20px !important;
        border-radius: 15px !important;
        overflow: hidden !important;
    }
    /* 封面图修正 */
    .recent-post-item .post_cover {
        width: 100% !important;
        height: 220px !important;
    }
    .recent-post-item >.recent-post-info {
        width: 100% !important;
        padding: 20px !important;
    }
}

/* =========================================================
   【左上角标题修复】用 CSS 暴力替换文字 (比 JS 稳)
   ========================================================= */
#site-name {
    font-size: 0 !important; /* 隐藏原来的 Welcome To... */
}
#site-name::after {
    content: "Yanxi Blog";  /* 这里写你想显示的短名字 */
    font-size: 1.2rem !important; /* 恢复字体大小 */
    display: inline-block;
    vertical-align: middle;
}

/* =========================================================
   【样式美化】大标题 + 头像冻结 + 播放器
   ========================================================= */

/* 大标题 */
#site-title {
    font-family: 'Great Vibes', cursive !important;
    font-size: 6rem !important;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
}

/* 彻底冻结头像 (针对 Butterfly 的 avatar_turn 动画) */
.avatar-img {
    animation: none !important; /* 核心 */
    transform: none !important;
    transition: none !important;
}
.avatar-img:hover {
    transform: none !important; /* 鼠标放上去也不许动 */
}

/* 智能黑白卡片 (白天白，晚上黑) */
:root:not([data-theme="dark"]) .recent-post-item,
:root:not([data-theme="dark"]) #aside-content .card-widget {
    background: rgba(255, 255, 255, 0.95) !important;
    color: #4c4948 !important;
}
[data-theme="dark"] .recent-post-item,
[data-theme="dark"] #aside-content .card-widget {
    background: rgba(30, 30, 30, 0.85) !important;
    color: #eee !important;
}

/* =========================================================
   【背景修复】背景图固定 + 强力透明化
   ========================================================= */

/* 1. 核心：让背景图固定不动 (像窗户外的风景一样) */
#web_bg {
    background-attachment: fixed !important; /* 固定背景 */
    background-position: center center;
    background-size: cover; 
    background-repeat: no-repeat;
}

/* 2. 调整卡片透明度 (让背景透出来) */
/* 白天模式：更通透的白 */
:root:not([data-theme="dark"]) .recent-post-item,
:root:not([data-theme="dark"]) #aside-content .card-widget,
:root:not([data-theme="dark"]) #footer {
    background: rgba(255, 255, 255, 0.6) !important; /* 0.6 代表 60% 不透明度 */
    backdrop-filter: blur(10px); /* 增加毛玻璃特效，让文字更清晰 */
}

/* 夜间模式：更通透的黑 */
[data-theme="dark"] .recent-post-item,
[data-theme="dark"] #aside-content .card-widget,
[data-theme="dark"] #footer {
    /* 你之前是 0.85 (太黑了)，建议改为 0.5 或 0.6 */
    background: rgba(30, 30, 30, 0.5) !important; 
    backdrop-filter: blur(10px); /* 毛玻璃特效 */
    color: #eee !important;
}

/* 3. 修复布局容器的背景色 (防止出现那个"大黑板") */
/* 有时候 layout 层会有默认背景色，这里强制设为透明 */
#content-inner, #page, #body-wrap {
    background: transparent !important;
}

/* 4. 修复底栏 (Footer) */
/* 你的底栏之前可能没有设透明，导致最下面是一条黑的 */
#footer {
    background: transparent !important;
}
/* 如果想给底栏加一点点底色，用上面的第2步控制即可，这里确保默认全透明 */
#footer::before {
    background: transparent !important;
}