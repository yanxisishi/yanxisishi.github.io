/* =========================================================
   1. 字体引入
   ========================================================= */
@import url('https://fonts.loli.net/css2?family=Great+Vibes&display=swap');

/* =========================================================
   2. 强制双列卡片布局 (修复排版)
   ========================================================= */
@media screen and (min-width: 768px) {
    #recent-posts {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: flex-start;
    }
    .recent-post-item {
        width: 49% !important;
        display: flex !important;
        flex-direction: column !important;
        height: auto !important;
        margin-top: 20px !important;
        border-radius: 15px !important;
        overflow: hidden !important;
    }
    .recent-post-item .post_cover {
        width: 100% !important;
        height: 220px !important;
    }
    .recent-post-item >.recent-post-info {
        width: 100% !important;
        padding: 20px !important;
    }
}

/* =========================================================
   3. 左上角标题修复
   ========================================================= */
#site-name { font-size: 0 !important; }
#site-name::after {
    content: "Yanxi Blog";  
    font-size: 1.2rem !important;
    display: inline-block;
    vertical-align: middle;
}

/* =========================================================
   4. 样式美化 (标题+头像)
   ========================================================= */
#site-title {
    font-family: 'Great Vibes', cursive !important;
    font-size: 6rem !important;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
}
.avatar-img {
    animation: none !important;
    transform: none !important;
    transition: none !important;
}

/* =========================================================
   5. 背景图强制修复 (解决黑屏问题)
   ========================================================= */
#web_bg {
    /* 强制指定背景图路径，防止配置失效 */
    background-image: url('/img/bg.png') !important; 
    background-attachment: fixed !important;
    background-position: center center !important;
    background-size: cover !important;
    background-repeat: no-repeat !important;
    z-index: -999; /* 确保在最底层 */
    background-color: transparent !important; /* 禁止黑色背景色 */
}

/* 暗黑模式下，也强制显示背景图，不显示纯黑 */
[data-theme="dark"] #web_bg {
    background-image: url('/img/bg.png') !important;
    background-color: transparent !important;
}
/* 这里的伪元素有时候会遮挡背景，强制去掉 */
#web_bg::before {
    background-color: transparent !important;
    background-image: none !important;
}

/* =========================================================
   6. 卡片透明化 (让背景图透出来)
   ========================================================= */
/* 白天模式 */
:root:not([data-theme="dark"]) .recent-post-item,
:root:not([data-theme="dark"]) #aside-content .card-widget,
:root:not([data-theme="dark"]) #footer {
    background: rgba(255, 255, 255, 0.6) !important;
    backdrop-filter: blur(10px); 
}

/* 夜间模式 - 关键修复 */
[data-theme="dark"] .recent-post-item,
[data-theme="dark"] #aside-content .card-widget,
[data-theme="dark"] #footer {
    /* 这里设置 0.5 的透明度，不再是黑板了 */
    background: rgba(0, 0, 0, 0.5) !important; 
    backdrop-filter: blur(10px);
    color: #eee !important;
}

/* 消除中间层的背景色 */
#content-inner, #page, #body-wrap, .layout {
    background: transparent !important;
}